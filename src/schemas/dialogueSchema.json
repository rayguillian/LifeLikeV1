{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the dialogue"
    },
    "participants": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 2,
      "description": "IDs of characters involved in the dialogue"
    },
    "context": {
      "type": "string",
      "description": "Situation/context for the conversation"
    },
    "tone": {
      "type": "string",
      "enum": ["formal", "casual", "hostile", "friendly", "romantic", "professional"],
      "description": "Overall tone of the dialogue"
    },
    "exchanges": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "speaker": {
            "type": "string",
            "description": "ID of the speaking character"
          },
          "text": {
            "type": "string",
            "description": "The spoken dialogue"
          },
          "emotion": {
            "type": "string",
            "enum": ["neutral", "happy", "angry", "sad", "surprised", "confused"],
            "description": "Emotional state while speaking"
          }
        },
        "required": ["speaker", "text"]
      },
      "minItems": 3,
      "description": "Sequence of dialogue exchanges"
    },
    "outcome": {
      "type": "string",
      "description": "Result/conclusion of the conversation"
    }
  },
  "required": ["participants", "exchanges"]
}